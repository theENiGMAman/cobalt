<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>COBALT — TERMINAL LOGIN (FAN DEMO)</title>
<link rel="stylesheet" href="styles.css" />

<!-- Audio elements -->
<audio id="clickSound" src="sfx/click.mp3" preload="auto"></audio>
<audio id="openSound" src="sfx/open.mp3" preload="auto"></audio>
<audio id="closeSound" src="sfx/close.mp3" preload="auto"></audio>
</head>

<body>
<!-- CRT frame overlay -->
<img class="crt-frame" src="img/crt_green_mask.png" alt="CRT Frame" />

<!-- Hidden SVG filters -->
<div style="display:none; position:absolute; top:-9999px;">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg-root" width="0" height="0">
    <defs>
      <!-- Barrel distortion -->
      <filter id="SphereMapTest" filterUnits="objectBoundingBox" x="-0.45" y="-1.29" width="1.6" height="3.5">
        <feImage id="mapa" result="Map" xlink:href="https://chafalleiro.github.io/retromator/img/sphere_wide_1.png" />
        <feDisplacementMap id="despMap" in="SourceGraphic" in2="map" scale="100" xChannelSelector="R" yChannelSelector="G" />
      </filter>

      <!-- Brightness / contrast (optional tweak) -->
      <filter id="contrast">
        <feComponentTransfer>
          <feFuncR type="linear" slope="1" intercept="0"/>
          <feFuncG type="linear" slope="1" intercept="0"/>
          <feFuncB type="linear" slope="1" intercept="0"/>
        </feComponentTransfer>
      </filter>
      <filter id="brightness">
        <feComponentTransfer>
          <feFuncR type="linear" slope="1"/>
          <feFuncG type="linear" slope="1"/>
          <feFuncB type="linear" slope="1"/>
        </feComponentTransfer>
      </filter>
    </defs>
  </svg>
</div>

<script src="sound.js"></script>
  <div class="noise"></div>
<!-- CRT container -->
<div id="crtContainer" class="crt-container init-animation">
  <div class="scan-line"></div>
  <div class="distort-overlay"></div>
  
  <div id="custom-cursor"></div>
  
  <div class="container">
    <div class="frame" role="application" aria-label="Cobalt terminal login">
      <!-- Apply barrel distortion filter here -->
      <div class="screen crt" id="screen" tabindex="0" aria-live="polite"
           style="filter: url(#SphereMapTest) url(#contrast) url(#brightness);">
<pre style="font-family: monospace; line-height: 1; font-size: 14px;">
 ██████  ██████  ██████   █████  ██      ████████ 
██      ██    ██ ██   ██ ██   ██ ██         ██    
██      ██    ██ ██████  ███████ ██         ██    
██      ██    ██ ██   ██ ██   ██ ██         ██    
 ██████  ██████  ██████  ██   ██ ███████    ██    

COBALT SECURE TERMINAL v0.9a
Unauthorized access is prohibited.

<div id="terminal">
  <p data-text='> <span>ERROR CODE</span>: "<i>COB-873: Access Restricted For User: X17-3B</i>"'></p>
  <p data-text='> <span>ERROR DESCRIPTION</span>: "<i>Permission Denied. You are not authorized to view this sector of the Cobalt network.</i>"'></p>
  <p data-text='> <span>ERROR POSSIBLY CAUSED BY</span>: [<b>unauthorized execution, read blockade, write lock, SSL cipher mismatch, certificate rejected, IP firewall trigger, credential mismatch, security token expired, integrity failure, system lockdown, access tier insufficient, configuration lockdown, network segmentation, hardware denial, key revocation, anomaly detected, abnormal request flood</b>...]'></p>
  <p data-text='> <span>AVAILABLE NODES YOU MAY ACCESS</span>: [<a href="incidents.html">Incident Reports</a>, <a href="archives.html">Archive</a>, <a href="messages.html">Messages</a>, <a href="darty.html">D.A.R.T.Y</a>, <a href="support.html">Support</a>...]'></p>
</div>

<b>PASSWORD OVERRIDE:</b> <span id="display"></span><span class="cursor" id="cursor" aria-hidden="true"></span>
</pre>
      </div>
    </div>
  </div>
</div>

<!-- Scripts -->
<script src="sound.js"></script>
<script src="crt-effects.js"></script>
<script>
  const clickSound = document.getElementById('clickSound');
  const openSound  = document.getElementById('openSound');
  const closeSound = document.getElementById('closeSound');

  document.addEventListener('click', () => {
    clickSound.currentTime = 0;
    clickSound.play().catch(()=>{});
  });

  (function(){
    const origOpenMessage = window.openMessage;
    const origCloseOverlay = window.closeOverlay;
    window.openMessage = function(id){
      openSound.currentTime = 0;
      openSound.play().catch(()=>{});
      if (origOpenMessage) origOpenMessage(id);
    };
    window.closeOverlay = function(){
      closeSound.currentTime = 0;
      closeSound.play().catch(()=>{});
      if (origCloseOverlay) origCloseOverlay();
    };
  })();
</script>
</body>
</html>
